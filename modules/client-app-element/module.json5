{
  "name":"client-app-element",
  "version":"1.0.0",
  "component": true,
  "description":"Element for js-kit",
  "author":"Tony Mobily",
  "moduleDependencies":[
    "client-app-frame"
  ],
  "position": 20,
  "extraCopyDirectory": "common",
  "manipulate":{
    "text":{
      "<%=vars.newElementInfo.newElementFile%>":[
        {
          "op":"resolve-ejs"
        },

        // Add/edit fields to add-edit forms
        {
          "if": "<%=vars.newElementInfo.type === 'edit' %>",        
          op: 'insert',
          position: 'before',
          newlineBefore: false,
          anchorPoint: '<!-- Add/Edit field insertion point -->',
          value: '<%- vars.newElementInfo.fieldElements %>'
        },
      ],

      // App page. For pages, add element to the page, as well as the import and (maybe) in the drawer
      "src/<%=vars.appFile%>.js":[
         {
          "if":"<%=vars.newElementInfo.isPage && userInput['client-app-element'].tailEnd%>",
          "op":"insert",
          "newlineAfter":true,
          "anchorPoint":".....<main...tailend...>...***</main>.....",
          "value":"<<%=vars.newElementInfo.nameWithPrefix%> class=\"page\" ></<%=vars.newElementInfo.nameWithPrefix%>>"
        },
        {
          "if":"<%=vars.newElementInfo.isPage%>",
          "op":"insert",
          "newlineBefore":false,
          "newlineAfter":true,
          "anchorPoint":".....***export class.....",
          "value":"<%=vars.newElementInfo.uncommentedStaticImport ? '' : '// '%>import './pages/<%=vars.newElementInfo.nameWithPrefix%>.js'\n"
        },
        {
          "if":"<%=vars.newElementInfo.isPage && vars.newElementInfo.inDrawer%>",
          "op":"insert",
          "newlineBefore": false,
          "newlineAfter": true,
          "anchorPoint":".....render ()...<ee-drawer...>...***</ee-drawer>.....",
          "valueFromFile":"drawerEntry.js"
        },
        {
          "if":"<%=vars.newElementInfo.isPage && !userInput['client-app-element'].tailEnd%>",
          "op":"insert",
          "newlineBefore":true,
          "newlineAfter":true,
          "anchorPoint":".....<main...>...***</main>.....",
          "value":"<<%=vars.newElementInfo.nameWithPrefix%> class=\"page\" ></<%=vars.newElementInfo.nameWithPrefix%>>"
        }
      ],

      "<%=vars.newElementInfo.destinationFile%>":[

        // Straight element. It will position place it in the right spot, if so requested 
        {
          "if": "<%=!vars.newElementInfo.isPage && vars.newElementInfo.insertElement%>",
          "op": "insert",
          "newlineAfter": true,
          "anchorPoint":"***.....export class.....",
          "value": "import '<%=vars.newElementInfo.importPath%>'"
        },
        {
          "if": "<%=!vars.newElementInfo.isPage && vars.newElementInfo.insertElement%>",
          "op": "insert",
          "newlineAfter": true,
          "anchorPoint": ".....<contents>...***</contents>",
          "value":"<<%=vars.newElementInfo.nameWithPrefix%>></<%=vars.newElementInfo.nameWithPrefix%>>"
        }
      ]
    }
  }
}



 // Page (NON-root). Add element to the page, as well as (maybe) the import and (maybe) in the drawer
//        {
//          "if":"<%=vars.newElementInfo.type === 'page'%>",
//          "op": "insert",
//          "position": "before",
//          "newlineAfter": true,
//          "newlineBefore": false,
//          "anchorPoint": "<!-- Page tab insertion point -->",
//          "value":"<<%=vars.newElementInfo.nameWithPrefix%> routing-group=\"<%=vars.newElementInfo.destination.pagePath%>\" slot=\"content\"></<%=vars.newElementInfo.nameWithPrefix%>>"
//        },
//        {
//          "if":"<%=vars.newElementInfo.type === 'page'%>",
//          "op": "insert",
//          "position": "before",
//          "newlineAfter": false,
//          "anchorPoint": "/* Loaded modules -- end */",
//          "value": "import '<%=vars.newElementInfo.importPath%>'"
//        },
//        {
//          "if":"<%=vars.newElementInfo.type === 'page'%>",
//          "op": "insert",
//          "position": "before",
//          "newlineAfter": true,
//          "newlineBefore": false,
//          "anchorPoint": '<!-- Page tab heading insertion point -->',
//          "value":"<a name=\"<%=vars.newElementInfo.nameNoPrefix%>\" href=\"<%=vars.newElementInfo.destination.pagePath%><%=vars.newElementInfo.subPath%>\"><div><%=scaffoldizerUtils.capitalize(vars.newElementInfo.nameNoPrefix)%></div></a>"
//        },
//        {
//          "if":"<%=vars.newElementInfo.type === 'page'%>",
//          "op":"custom",
//          "function":"maybeAddStarToPath"
//        }
//        */